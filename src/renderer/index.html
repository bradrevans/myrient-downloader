<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self' https://cdn.jsdelivr.net; style-src 'self' https://rsms.me; font-src 'self' https://rsms.me;">
  <title>Myrient Downloader</title>
  <link href="./styles/style.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
</head>

<body class="antialiased">
  <header
    class="p-4 bg-neutral-800 border-b border-neutral-700 h-16 flex items-center select-none app-draggable-area relative z-50">
    <button id="header-back-btn"
      class="invisible text-lg font-semibold text-white hover:text-accent-500 mr-4 transition-all duration-200 app-non-draggable-area">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
        class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
      </svg>
    </button>
    <nav id="breadcrumbs" class="text-base font-semibold text-white flex items-center flex-shrink min-w-0"></nav>
    <div id="window-controls" class="flex-shrink-0 flex-grow flex justify-end items-center relative">
      <button id="snowflake-btn"
        class="action-btn app-non-draggable-area hidden text-neutral-400 hover:text-snowflake-accent"
        aria-label="Toggle Christmas Snowflakes">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4">
          <path
            d="M12 8V16M12 8V2M12 8L7 3M12 8L17 3M12 16V22M12 16L7 21M12 16L17 21M16 12H8M16 12H22M16 12L21 7M16 12L21 17M8 12H2M8 12L3 7M8 12L3 17" />
        </svg>
      </button>
      <button id="firework-btn"
        class="action-btn app-non-draggable-area hidden text-neutral-400 hover:text-firework-accent"
        aria-label="Toggle New Year Fireworks">
        <svg class="w-4 h-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="_x32_" viewBox="0 0 512 512"
          xml:space="preserve">
          <g>
            <path
              d="M256,79.553c9.902,0,16.652-21.627,19.222-43.438C278.44,8.79,266.897,0,256,0   c-10.914,0-22.441,8.79-19.24,36.115C239.332,57.926,246.065,79.553,256,79.553z" />
            <path
              d="M256,432.439c-9.936,0-16.669,21.628-19.24,43.446C233.56,503.202,245.087,512,256,512   c10.897,0,22.44-8.798,19.222-36.115C272.652,454.067,265.902,432.439,256,432.439z" />
            <path
              d="M167.134,102.964c8.591-4.935,3.632-27.068-5.058-47.22c-10.88-25.268-25.26-27.101-34.714-21.661   c-9.454,5.465-15.026,18.842,1.394,40.908C141.907,92.572,158.542,107.931,167.134,102.964z" />
            <path
              d="M344.849,409.036c-8.574,4.926-3.632,27.06,5.042,47.228c10.897,25.26,25.277,27.092,34.73,21.644   c9.438-5.448,15.044-18.842-1.392-40.9C370.093,419.428,353.441,404.077,344.849,409.036z" />
            <path
              d="M74.967,128.762c-22.042-16.419-35.427-10.822-40.884-1.384c-5.456,9.453-3.615,23.825,21.645,34.722   c20.168,8.683,42.293,13.617,47.236,5.059C107.923,158.559,92.548,141.898,74.967,128.762z" />
            <path
              d="M456.239,349.908c-20.135-8.699-42.277-13.625-47.219-5.066c-4.96,8.6,10.415,25.26,27.997,38.395   c22.058,16.42,35.426,10.83,40.867,1.385C483.357,375.176,481.516,360.797,456.239,349.908z" />
            <path
              d="M79.545,255.992c0-9.902-21.645-16.644-43.438-19.223C8.79,233.56,0.016,245.103,0.016,255.992   c0,10.921,8.774,22.448,36.091,19.248C57.9,272.677,79.545,265.918,79.545,255.992z" />
            <path
              d="M475.876,236.76c-21.794,2.588-43.422,9.322-43.422,19.232c0,9.926,21.628,16.669,43.422,19.239   c27.334,3.218,36.108-8.326,36.108-19.239C511.984,245.087,503.21,233.56,475.876,236.76z" />
            <path
              d="M55.728,349.908c-25.26,10.889-27.101,25.268-21.645,34.714c5.474,9.445,18.842,15.035,40.884-1.385   c17.581-13.135,32.939-29.796,27.98-38.395C98.021,336.283,75.896,341.209,55.728,349.908z" />
            <path
              d="M456.239,162.1c25.277-10.897,27.118-25.268,21.645-34.722c-5.441-9.454-18.809-15.035-40.867,1.384   c-17.582,13.136-32.956,29.796-27.997,38.396C413.962,175.716,436.104,170.783,456.239,162.1z" />
            <path
              d="M128.755,437.008c-16.42,22.058-10.848,35.452-1.394,40.9c9.47,5.448,23.834,3.616,34.714-21.644   c8.69-20.168,13.65-42.302,5.058-47.228C158.559,404.077,141.907,419.428,128.755,437.008z" />
            <path
              d="M383.229,74.992c16.436-22.067,10.864-35.443,1.392-40.908c-9.453-5.44-23.833-3.608-34.73,21.661   c-8.674,20.152-13.634,42.285-5.042,47.22C353.424,107.931,370.093,92.572,383.229,74.992z" />
            <path
              d="M235.135,176.123c7.48-1.99,8.177-19.563,5.706-36.463c-3.068-21.156-13.5-25.451-21.677-23.229   c-8.21,2.148-15.11,11.08-7.215,30.949C218.284,163.253,227.722,178.155,235.135,176.123z" />
            <path
              d="M276.848,335.852c-7.414,2.007-8.16,19.638-5.705,36.514c3.084,21.155,13.517,25.442,21.71,23.219   c8.193-2.197,15.092-11.096,7.198-30.94C293.732,348.772,284.295,333.87,276.848,335.852z" />
            <path
              d="M153.815,154.139c-5.954,6.02-7.497,17.133,9.305,30.426c13.368,10.548,29.008,18.742,34.415,13.294   c5.457-5.466-2.704-21.073-13.252-34.441C171.032,146.626,159.82,148.152,153.815,154.139z" />
            <path
              d="M358.135,357.869c6.004-5.996,7.53-17.15-9.254-30.434c-13.402-10.548-28.976-18.709-34.432-13.277   c-5.424,5.44,2.736,21.063,13.302,34.44C341.002,365.374,352.147,363.857,358.135,357.869z" />
            <path
              d="M139.469,240.6c16.901,2.463,34.515,1.749,36.472-5.714c2.024-7.439-12.888-16.876-28.742-23.187   c-19.853-7.894-28.727-0.987-30.95,7.198C114.043,227.058,118.322,237.507,139.469,240.6z" />
            <path
              d="M372.515,271.416c-16.885-2.438-34.466-1.733-36.489,5.689c-1.99,7.448,12.904,16.859,28.76,23.187   c19.869,7.911,28.776,0.987,30.966-7.19C397.974,284.908,393.694,274.485,372.515,271.416z" />
            <path
              d="M147.38,300.068c15.856-6.327,30.767-15.781,28.76-23.245c-1.991-7.397-19.604-8.119-36.489-5.656   c-21.164,3.06-25.442,13.509-23.236,21.669C118.604,301.039,127.511,307.938,147.38,300.068z" />
            <path
              d="M364.603,211.948c-15.856,6.369-30.75,15.765-28.744,23.196c1.991,7.446,19.588,8.168,36.489,5.713   c21.164-3.084,25.442-13.534,23.237-21.686C393.38,210.954,384.489,204.054,364.603,211.948z" />
            <path
              d="M163.368,327.75c-16.751,13.227-15.225,24.447-9.221,30.41c6.004,5.979,17.166,7.514,30.418-9.272   c10.532-13.368,18.725-28.967,13.285-34.432C192.378,309.008,176.77,317.176,163.368,327.75z" />
            <path
              d="M348.598,184.283c16.785-13.26,15.243-24.464,9.288-30.426c-5.988-6.012-17.182-7.521-30.418,9.271   c-10.582,13.394-18.742,29.008-13.302,34.424C319.606,203,335.214,194.823,348.598,184.283z" />
            <path
              d="M234.87,336.035c-7.414-1.991-16.851,12.886-23.17,28.759c-7.912,19.87-1.028,28.801,7.198,30.957   c8.194,2.222,18.626-2.065,21.694-23.22C243.063,355.638,242.316,338.033,234.87,336.035z" />
            <path
              d="M293.102,116.249c-8.177-2.222-18.626,2.065-21.677,23.22c-2.472,16.918-1.742,34.498,5.688,36.496   c7.43,2.024,16.868-12.895,23.186-28.734C308.195,127.353,301.328,118.464,293.102,116.249z" />
            <path
              d="M214.536,255.992c0,22.904,18.56,41.464,41.465,41.464c22.888,0,41.464-18.56,41.464-41.464   c0-22.888-18.576-41.448-41.464-41.448C233.095,214.544,214.536,233.104,214.536,255.992z" />
          </g>
        </svg>
      </button>
      <button id="presets-btn" class="action-btn app-non-draggable-area text-white">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path stroke="currentColor" stroke-linejoin="round" stroke-width="2" d="M20 4H4v2l6 6v8.5l4-2.5v-6l6-6V4z" />
        </svg>
      </button>
      <button id="settings-btn" class="action-btn app-non-draggable-area text-white">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
        </svg>
      </button>



      <div class="w-px h-6 bg-neutral-700 mx-2"></div>
      <button id="minimize-btn" class="control-btn hover:bg-neutral-700 app-non-draggable-area">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5 12H19" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
      <button id="maximize-restore-btn" class="control-btn hover:bg-neutral-700 app-non-draggable-area">
        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <rect x="6" y="6" width="12" height="12"></rect>
        </svg>
      </button>
      <button id="close-btn" class="control-btn hover:bg-danger-500 app-non-draggable-area">
        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
  </header>

  <div id="settings-overlay" class="overlay-transition fixed inset-x-0 bottom-0 top-16 bg-black bg-opacity-50 z-30">
  </div>
  <div id="settings-panel"
    class="fixed top-16 right-0 w-64 h-[calc(100vh-4rem)] bg-neutral-900 shadow-lg z-40 transform translate-x-full transition-transform duration-300 ease-in-out">
    <div class="flex justify-between items-center p-4 border-b border-neutral-700">
      <h3 class="text-white text-lg font-bold">Settings</h3>
      <button id="close-settings-btn" class="control-btn hover:bg-danger-500">
        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
    <div class="p-4">
      <h6 id="zoom-heading" class="text-white text-base font-bold mb-2">Zoom</h6>
      <div class="flex items-center justify-between mb-2">
        <button id="zoom-out-btn"
          class="text-white hover:text-accent-500 px-2 py-1 rounded app-non-draggable-area bg-transparent border-none text-lg">-</button>
        <input type="number" id="zoom-level-display"
          class="text-white mx-1 w-16 text-center text-base bg-neutral-800 border-none rounded appearance-none focus:outline-none focus:ring-2 focus:ring-accent-500 focus:ring-offset-2 focus:ring-offset-neutral-800"
          value="100" min="10" max="400" step="10">
        <button id="zoom-in-btn"
          class="text-white hover:text-accent-500 px-2 py-1 rounded app-non-draggable-area bg-transparent border-none text-lg">+</button>
        <button id="zoom-reset-btn"
          class="text-white hover:text-accent-500 px-2 py-1 rounded app-non-draggable-area bg-transparent border-none text-lg">&#x21BA;</button>
      </div>
    </div>
    <div class="p-4 border-t border-neutral-700">
      <h6 class="text-white text-base font-bold mb-2">About</h6>
      <p class="text-neutral-400 text-sm">Version: <span id="app-version"></span></p>
      <button id="check-for-updates-btn" class="btn btn-secondary btn-sm mt-2">Check for Updates</button>
      <p id="update-status" class="text-neutral-400 text-sm mt-2"></p>
    </div>
  </div>
  <div id="presets-overlay" class="overlay-transition fixed inset-x-0 bottom-0 top-16 bg-black bg-opacity-50 z-30">
  </div>
  <div id="presets-panel"
    class="fixed top-16 right-0 w-4/5 h-[calc(100vh-4rem)] bg-neutral-900 shadow-lg z-40 transform translate-x-full transition-transform duration-300 ease-in-out will-change-transform">
    <div class="flex justify-between items-center p-4 border-b border-neutral-700">
      <h3 id="manage-presets-heading" class="text-white text-lg font-bold">Manage Presets</h3>
      <button id="close-presets-btn" class="control-btn hover:bg-danger-500">
        <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </div>
    <div id="presets-content" class="p-4 text-white">
      <div class="flex space-x-2 mt-2 mb-4">
        <button id="select-all-btn" class="btn btn-secondary">Select All</button>
        <button id="deselect-all-btn" class="btn btn-secondary">Deselect All</button>
      </div>

      <div id="presets-list" class="mb-4"></div>

      <div class="flex space-x-2">
        <button id="import-presets-btn" class="btn btn-primary">Import</button>
        <button id="export-all-btn" class="btn btn-secondary">Export All</button>
        <button id="export-selected-btn" class="btn btn-secondary">Export Selected</button>
        <button id="delete-selected-btn" class="btn btn-danger">Delete Selected</button>
      </div>
    </div>
  </div>

  <main class="pt-0 p-8 h-[calc(100vh-8rem)] overflow-y-auto">
    <div id="loading-spinner"
      class="hidden absolute inset-0 bg-neutral-900 bg-opacity-75 flex-col flex items-center justify-center z-80">
      <div id="loading-text-container" class="relative">
        <div id="loading-main-container" class="flex items-center">
          <div class="loading-spinner-animation"></div>
          <span id="loading-text" class="text-white text-xl ml-4">Loading...</span>
        </div>
        <span id="loading-subtext"
          class="absolute left-1/2 -translate-x-1/2 top-full text-neutral-400 text-sm mt-2 w-max max-w-xs text-center"></span>
      </div>
    </div>

    <div id="confirmation-modal" class="overlay-transition bg-black bg-opacity-50 z-[500]">
      <div class="modal-transition bg-neutral-800 p-6 rounded-lg shadow-lg max-w-md min-w-xs z-[501] relative">
        <h3 id="confirmation-modal-title" class="text-xl font-bold text-white mb-4">Confirmation</h3>
        <p id="confirmation-modal-message" class="text-neutral-300 mb-6"></p>
        <div class="flex justify-end space-x-4">
          <button id="confirmation-modal-cancel" class="btn btn-secondary">Cancel</button>
          <button id="confirmation-modal-continue" class="btn btn-success">Continue</button>
        </div>
      </div>
    </div>

    <div id="view-container"></div>
  </main>

  <footer class="footer h-16 flex-shrink-0 relative z-20">
    <p>
      Created by Brad Evans
      <span> | </span>
      <a href="#" id="github-link" class="footer-link">GitHub</a>
      <span> | </span>
      <a href="#" id="kofi-link" class="footer-link">Donate</a>
    </p>
    <p>
      Please be respectful of <a href="#" id="donate-link" class="footer-link">Myrient's</a> bandwidth and service.
    </p>
  </footer>

  <script type="module" src="./renderer.js"></script>

  <div id="toast-container" class="fixed bottom-0 right-0 p-4 space-y-2 w-full max-w-xs z-90"></div>
</body>

</html>